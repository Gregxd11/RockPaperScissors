<!DOCTYPE html>
<html>
<head>
    <title>RPS test</title>
<body>
    <script>
        //Keeps record of player's & computer's score
        let playerScore = 0
        let computerScore = 0

        //Computer's selection
        function computerPlay(){
            switch(Math.floor(Math.random() * 3)) {
                case 0:
                    return 'rock';
                    break;
                case 1:
                    return 'paper';
                    break;
                case 2: 
                    return 'scissors';
                    break;
            };
        }

        //Plays a round and returns the score
        function playRound(playerSelection, computerSelection){
            if (playerSelection === computerSelection){
                return 'Draw!' ;
            } else if (playerSelection === 'rock'){
                if (computerSelection === 'paper'){
                    console.log('You lose! Paper beats rock.')
                    return 1;
                } else {
                    console.log('You win! Rock beats ' + computerSelection + '.')
                    return 0;
                }

            } else if (playerSelection === 'paper'){
                if (computerSelection === 'scissors'){
                    console.log('You lose! Scissors beats paper.')
                    return 1;
                } else {
                    console.log('You win! Paper beats ' + computerSelection +'.')
                    return 0;
                }
            } else if (playerSelection === 'scissors'){
                if (computerSelection === 'rock'){
                    console.log('You lose! Rock beats scissors.')
                    return 1;
                } else {
                    console.log('You win! Scissors beats ' + computerSelection + '.' )
                    return 0;
                }
            }
            }

        //plays the game for 5 rounds and keeps score
        function game(){
            for (var i = 0; i <= 5; i++){
                let playerSelection = prompt('Rock, paper, or scissors?').toLowerCase();
                let computerSelection = computerPlay();

                console.log("Player: " + playerSelection)
                console.log("Computer: " + computerSelection)

                let result = playRound(playerSelection, computerSelection)

                if (result === 0){
                    playerScore++;
                    console.log("Player\'s score: " + playerScore)
                } else if (result === 1){
                    computerScore++;
                    console.log("Computer\'s score: " + computerScore)
                } else {
                    console.log("No points awarded.")
                }
            }
        }

        //declares winner after 5 rounds
        function winner(){
            if (playerScore > computerScore){
                console.log('Player finished with ' + playerScore +' points while computer finished with ' + computerScore + ' points.')
                console.log('You win!')
            } else if (playerScore < computerScore){
                console.log('Player finished with ' + playerScore +' points while computer finished with ' + computerScore + ' points.')
                console.log('You lose!')
            } else {
                console.log('Draw! You had ' + playerScore + ' points while computer had ' + computerScore +' points.')
            }
        }

        //plays the game
        game();
        winner();
    </script>
</body>
</head>   
</html>